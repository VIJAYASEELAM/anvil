## Task 6 â€” Hot-path algorithm optimization

There is a hot-path function that currently causes high p95 latency under
load. Optimize the algorithm to reduce worst-case latency while preserving
correctness and memory usage constraints.

Requirements:
1. Improve algorithmic complexity for common-case inputs.
2. Provide benchmarks or tests that validate p95 improvements.
3. Avoid changing public API signatures.
